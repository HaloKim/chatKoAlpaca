# chatKoAlpaca
KoAlapaca + Chat

í›Œë¥­í•œ LLM KoAlpacaì— chat íŠœë‹ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì œê°€ ì‘ì—…í•œ í™˜ê²½ì€ A100 80G ì´ë©° ëŒ€ë¶€ë¶„ì˜ LLMì—ì„œ CUDA OOMì´ ë°œìƒí•©ë‹ˆë‹¤.

ë”°ë¼ì„œ BASE LLMì€ EleutherAI/polyglot-ko-1.3b ì´ ëª¨ë¸ ì…ë‹ˆë‹¤.

ë² ì´ìŠ¤ ëª¨ë¸ì„ Alpaca ë°ì´í„°ì…‹ìœ¼ë¡œ Finetuneì„ ì§„í–‰í•˜ê³ ,

Alpaca ëª¨ë¸ì„ ColossalAIë¥¼ í™œìš©í•˜ì—¬ chat Finetuneí•˜ëŠ” ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.

Alpaca baseëŠ” [KoAlpaca](https://github.com/Beomi/KoAlpaca) ì´ë©°,

chat Finetune ê³¼ì •ì€ [KoChatGPT](https://github.com/airobotlab/KoChatGPT) ì„ baseë¡œ í•˜ì˜€ìœ¼ë©°, 

ColossalAIëŠ” í˜„ì¬ ì‚¬ìš©í•œ gpt-neox ê¸°ë°˜ì˜ ëª¨ë¸ì„ ì§€ì›í•˜ì§€ ì•Šì•„ [KoChatGPT-ìˆ˜ì •](https://github.com/HaloKim/KoChatGPT.git) ì„ ìˆ˜ì •í•˜ì—¬ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

ê° ìŠ¤í…ì—ì„œ ì„¸ì…˜ì„ ì´ˆê¸°í™”í›„ ì§„í–‰í•˜ê¸¸ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤.

[chatKoAlpaca](https://github.com/HaloKim/chatKoAlpaca)

* ë¬¸ì œì 

ê²°ê³¼ë§Œ ë³´ë©´ ë‚˜ì˜ì§€ ì•Šì•„ ë³´ì´ì§€ë§Œ Lossê°€ 0ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ë¬¸ì œë¡œ ë³´ì…ë‹ˆë‹¤. í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.

# Pipeline

![image](https://github.com/HaloKim/chatKoAlpaca/assets/44603549/7affcdb9-b566-42fc-838f-f6012edeae7e)

# í•™ìŠµ

```
Episode [1/1]:  67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:24<00:12, 12.21s/it]
Train epoch [1/1]:   0%|          | 0/3 [00:00<?, ?it/s]
Train epoch [1/1]:   0%|          | 0/3 [00:00<?, ?it/s, actor_loss=0, critic_loss=0]
Train epoch [1/1]:  33%|â–ˆâ–ˆâ–ˆâ–      | 1/3 [00:00<00:01,  1.78it/s, actor_loss=0, critic_loss=0]
Train epoch [1/1]:  33%|â–ˆâ–ˆâ–ˆâ–      | 1/3 [00:01<00:01,  1.78it/s, actor_loss=0, critic_loss=0]
Train epoch [1/1]:  67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:01<00:00,  1.88it/s, actor_loss=0, critic_loss=0]
Train epoch [1/1]:  67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:01<00:00,  1.88it/s, actor_loss=0, critic_loss=0]
Train epoch [1/1]: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:01<00:00,  1.91it/s, actor_loss=0, critic_loss=0]
Episode [1/1]: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:37<00:00, 12.64s/it]
```

# ê²°ê³¼

```
######################################################################
Below is an instruction that describes a task.
ì•„ë˜ëŠ” ì‘ì—…ì„ ì„¤ëª…í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

Write a response that appropriately completes the request.
ëª…ë ¹ì–´ì— ë”°ë¥¸ ìš”ì²­ì„ ì ì ˆíˆ ì™„ë£Œí•˜ëŠ” ì‘ë‹µì„ ì‘ì„±í•˜ì„¸ìš”.

### Instruction(ëª…ë ¹ì–´):
ë¶ˆê³ ê¸°ìš© ê³ ê¸° í•œìš°ì—ìš”?

### Response(ì‘ë‹µ):'ì €ëŠ” ì¸ê³µì§€ëŠ¥ ì–¸ì–´ ëª¨ë¸ë¡œ, ë¬¼ë¦¬ì  ê°œë…ì¸ ì†Œê³ ê¸°ì™€ ë¼ì§€ê³ ê¸°ëŠ” ë‹¤ë¥¸ ì¢…ë¥˜ì´ë©°, ë¶ˆê³ ê·¸ìš© ê³ ê¸° ì—­ì‹œ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¢…ë¥˜ê°€ ì•„ë‹™ë‹ˆë‹¤. ë”°ë¼ì„œ, ì§ˆë¬¸ì— ëŒ€í•œ ì •í™•í•œ ë‹µë³€ì€ ì œê³µí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ğŸ˜Š ğŸ˜Š ğŸ˜Š ğŸ˜Šì£„ì†¡í•©ë‹ˆë‹¤. ğŸ˜Ší•˜ì§€ë§Œ, í•œìš°ì™€ ë¼ì§€ê³ ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶ˆê³ ê¸°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë¶ˆê³ ê¸° ìš”ë¦¬ë¥¼ í•  ë•ŒëŠ” ì†Œê³ ê¸°ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, í•œìš°ì™€ ë¼ì§€ê³ ê¸°ë„ ë¶ˆê³ ê¸° ìš”ë¦¬ì— ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë“¤ ê³ ê¸°ë¥¼ ì´ìš©í•´ ë¶ˆê³ ê¸°ì™€ ëœì¥
######################################################################
Below is an instruction that describes a task.
ì•„ë˜ëŠ” ì‘ì—…ì„ ì„¤ëª…í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

Write a response that appropriately completes the request.
ëª…ë ¹ì–´ì— ë”°ë¥¸ ìš”ì²­ì„ ì ì ˆíˆ ì™„ë£Œí•˜ëŠ” ì‘ë‹µì„ ì‘ì„±í•˜ì„¸ìš”.

### Instruction(ëª…ë ¹ì–´):
ë¦¬ì²˜ë“œ ë‹‰ìŠ¨ì´ 43ëŒ€ ë¶€í†µë ¹ì§ì„ ìˆ˜í–‰í•œ ë…„ë„ëŠ”?

### Response(ì‘ë‹µ):'ë¦¬ì²˜ë“œ ë‹‰ìŠ¨ì´ 43ëŒ€ ë¶€í†µë ¹ì§ì„ ìˆ˜í–‰í•œ ë…„ë„ëŠ” 1978ë…„ì…ë‹ˆë‹¤.ì¸ 1978ë…„ 11ì›”ì— ë‹‰ìŠ¨ì€ 43ëŒ€ ë¶€í†µë ¹ìœ¼ë¡œ ì§€ëª…ë˜ì—ˆìŠµë‹ˆë‹¤.ë‹¹í•œ ë…„ë„ëŠ” 1978ë…„ì…ë‹ˆë‹¤.ì€ ë‹‰ìŠ¨ì˜ ì—…ì ì„ ì¸ì •í•˜ì§€ ì•ŠëŠ” ì¼ë¶€ ì–¸ë¡ ì— ëŒ€í•œ íƒ„ì••ê³¼ ë‹‰ìŠ¨ì˜ ì‚¬ìƒí™œê³¼ ê´€ë ¨ëœ ë¬¸ì œë¥¼ ì œê¸°í•˜ë©´ì„œ ë¶€í†µë ¹ì§ì—ì„œ ë¬¼ëŸ¬ë‚¬ìŠµë‹ˆë‹¤.ì€ ë‹‰ìŠ¨ì˜ ì¬ì„ê¸°ê°„ ì¤‘ ê·¸ì˜ ì—…ì ì„ ì¸ì •í•˜ëŠ” ì¼ë¶€ ì–¸ë¡ ì— ëŒ€í•œ íƒ„ì••ê³¼ ì‚¬ìƒí™œê³¼ ê´€ë ¨ëœ ë¬¸ì œë¥¼ ì œê¸°í•˜ë©´ì„œ ë¶€í†µë ¹ì§ì—ì„œ ë¬¼ëŸ¬ë‚¬ìŠµë‹ˆë‹¤.ì€ ë‹‰ìŠ¨ì˜ ì—…ì ì„
######################################################################
Below is an instruction that describes a task.
ì•„ë˜ëŠ” ì‘ì—…ì„ ì„¤ëª…í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

Write a response that appropriately completes the request.
ëª…ë ¹ì–´ì— ë”°ë¥¸ ìš”ì²­ì„ ì ì ˆíˆ ì™„ë£Œí•˜ëŠ” ì‘ë‹µì„ ì‘ì„±í•˜ì„¸ìš”.

### Instruction(ëª…ë ¹ì–´):
ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ì–´ë””ì— ìˆì–´

### Response(ì‘ë‹µ):'ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ë¯¸êµ­ ì¼ë¦¬ë…¸ì´ì£¼ ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì— ìœ„ì¹˜í•´ ìˆìŠµë‹ˆë‹¤.. êµ­ì œê³µí•­ì—ì„œë„ í•­ê³µí¸ì´ ìˆìŠµë‹ˆë‹¤.ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ë¯¸êµ­ ì‹œì¹´ê³ ì— ìœ„ì¹˜í•œ ê³µí•­ìœ¼ë¡œ, ì‹œì¹´ê³ ì—ì„œ ì•½ 3ì‹œê°„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ë¯¸êµ­ì˜ ì‹œì¹´ê³ ì— ìœ„ì¹˜í•œ êµ­ì œê³µí•­ìœ¼ë¡œ, ì‹œì¹´ê³ ì—ì„œ ì•½ 1ì‹œê°„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ë¯¸êµ­ ì‹œì¹´ê³ ì—ì„œ 3ì‹œê°„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ë¯¸êµ­ ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì—ì„œ ì•½ 30ë¶„ ì •ë„ ì†Œìš”ë©ë‹ˆë‹¤.ì‹œì¹´ê³  ì˜¤í—¤ì–´ êµ­ì œê³µí•­ì€ ë¯¸êµ­ ì¼ë¦¬ë…¸ì´ì£¼ ì‹œì¹´ê³ ì— ìœ„ì¹˜í•´ ìˆ
######################################################################
Below is an instruction that describes a task.
ì•„ë˜ëŠ” ì‘ì—…ì„ ì„¤ëª…í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

Write a response that appropriately completes the request.
ëª…ë ¹ì–´ì— ë”°ë¥¸ ìš”ì²­ì„ ì ì ˆíˆ ì™„ë£Œí•˜ëŠ” ì‘ë‹µì„ ì‘ì„±í•˜ì„¸ìš”.

### Instruction(ëª…ë ¹ì–´):
ì˜¤ëŠ˜ ë¯¸ì„¸ë¨¼ì§€ ì–´ë•Œ?

### Response(ì‘ë‹µ):'ì €ëŠ” ì¸ê³µì§€ëŠ¥ ì±—ë´‡ì´ë¯€ë¡œ ë¯¸ì„¸ë¨¼ì§€ ë†ë„ê°€ ì–´ë–»ê²Œ ë°œìƒí•˜ëŠ” ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œì§€ ëª»í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ë¯¸ì„¸ë¨¼ì§€ ë†ë„ëŠ” ì§€ì—­ì— ë”°ë¼ ë‹¤ë¥´ë©°, íŠ¹íˆ í™©ì‚¬ë‚˜ ë¯¸ì„¸ë¨¼ì§€ ë“±ì˜ ì˜¤ì—¼ ë¬¼ì§ˆì€ ì¤‘êµ­ë°œ ë¯¸ì„¸ë¨¼ì§€ ë“± ë‹¤ì–‘í•œ ìš”ì¸ì— ì˜í•´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ì§€ì—­ì˜ ê¸°ìƒ ì˜ˆë³´ë‚˜ ëŒ€ê¸° ìƒíƒœë¥¼ ì°¸ê³ í•˜ì‹œëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.... ì˜ˆë³´, ê¸°ìƒíŠ¹ë³´ ë“±ì„ í™•ì¸í•˜ì—¬ ëŒ€ì‘í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.. ğŸ‘Œ.. ì˜ˆë³´, ê¸°ìƒíŠ¹ë³´ ë“±ì€ ì¸í„°ë„·ì´ë‚˜ í•´ë‹¹ ì§€ì—­ì˜ ê¸°ìƒì²­ ë“±ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.. ğŸ‘Œ
```

# Reference

[KoAlpaca](https://github.com/Beomi/KoAlpaca)

[EleutherAI/polyglot-ko-1.3b](https://huggingface.co/EleutherAI/polyglot-ko-1.3b)

[ColossalAI](https://github.com/hpcaitech/ColossalAI)

[KoChatGPT](https://github.com/airobotlab/KoChatGPT)

[KoChatGPT-ìˆ˜ì •](https://github.com/HaloKim/KoChatGPT.git)
